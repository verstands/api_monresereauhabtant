"use strict";(self.webpackChunkafricauniontechfront=self.webpackChunkafricauniontechfront||[]).push([[953,946],{5066:(O,_,a)=>{a.d(_,{L:()=>s});var o=a(4893),h=a(2846),i=a(1598),v=a(9808);function t(c,g){if(1&c){const l=o.EpF();o.TgZ(0,"a",4),o.NdJ("click",function(){o.CHM(l);const C=o.oxw();return C.redirect(C.menu.url)}),o._UZ(1,"img",5),o.TgZ(2,"h3",6),o._uU(3),o.qZA()()}if(2&c){const l=o.oxw();o.xp6(1),o.Tol(l.menu.logo?"cover-img":"contain-img"),o.Q6J("src",l.menu.logo?l.menu.logo:"/assets/"+l.menu.name+".png",o.LSH),o.xp6(2),o.hij(" ",l.menu.name," ")}}const u=function(c){return[c]};function e(c,g){if(1&c&&(o.TgZ(0,"a",7),o._UZ(1,"img",5),o.TgZ(2,"h3",6),o._uU(3),o.qZA()()),2&c){const l=o.oxw();o.Q6J("routerLink",o.VKq(5,u,l.menu.url)),o.xp6(1),o.Tol(l.menu.logo?"cover-img":"contain-img"),o.s9C("src",l.menu.logo?l.menu.logo:"/assets/logo.png",o.LSH),o.xp6(2),o.hij(" ",l.menu.name," ")}}let s=(()=>{class c{constructor(l,d){this.appConfig=l,this.router=d,this.token=this.appConfig.getItemFromSessionStorage("token")}ngOnInit(){}redirect(l){console.log("lien active ",l);const d=`${l}?url=${this.getApplicationUrl()}&tkn=${this.token}`;console.log("dest ",d),window.location.href=d}getApplicationUrl(){return window.location.origin}}return c.\u0275fac=function(l){return new(l||c)(o.Y36(h._),o.Y36(i.F0))},c.\u0275cmp=o.Xpm({type:c,selectors:[["app-societies"]],inputs:{menu:"menu"},decls:4,vars:2,consts:[[1,"card-exploration","text-centre","text-white","d-flex","py-2","col-sm-12","justify-content-center"],[1,"py-3","text-center"],["target","_blank",3,"click",4,"ngIf"],[3,"routerLink",4,"ngIf"],["target","_blank",3,"click"],["alt","","width","100","height","100",3,"src"],[1,"mt-3"],[3,"routerLink"]],template:function(l,d){1&l&&(o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,t,4,4,"a",2),o.YNc(3,e,4,7,"a",3),o.qZA()()),2&l&&(o.xp6(2),o.Q6J("ngIf",!d.menu.url.includes("/app/")),o.xp6(1),o.Q6J("ngIf",d.menu.url.includes("/app/")))},directives:[v.O5,i.yS],styles:['@import"https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap";.card-exploration[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif!important;border-radius:20px;color:#000!important;transform:scale(1);transition-duration:.9s}.card-exploration[_ngcontent-%COMP%]:hover{transition-duration:.7s;cursor:pointer;box-shadow:0 10px 20px #0090e440;background-color:#3f7652;color:#fff!important;overflow:hidden;transform:scale(1.2)}.card-exploration[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:12px;font-weight:400}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.cover-img[_ngcontent-%COMP%]{object-fit:cover;text-align:center;padding:8%;border-radius:20px;box-shadow:0 0 4px #0005;background-color:#fff}.contain-img[_ngcontent-%COMP%]{object-fit:contain;text-align:center;padding:4%;border-radius:20px;box-shadow:0 0 10px #00000a22;background-color:#ffffffd3}']}),c})()},4793:(O,_,a)=>{a.d(_,{N:()=>s});var o=a(9808),h=a(9444),i=a(1598),v=a(5066),t=a(4893);const u=[{path:"",component:v.L}];let e=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[i.Bz.forChild(u)],i.Bz]}),c})(),s=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[o.ez,h.uH,e]]}),c})()},6953:(O,_,a)=>{a.r(_),a.d(_,{HomeModule:()=>L});var o=a(9808),h=a(1598),i=a(801),v=a(7123),t=a(4893),u=a(8186),e=a(2846),s=a(4961),c=a(2308),g=a(946);let l=(()=>{class r{constructor(n,p,f,S){this.appConfig=n,this.userService=p,this.dialog=f,this.configService=S,this.applications=[],this.applicationssss=[{application:"DASHBOARD",srcUrl:"/assets/dashboard.png",url:"./",province:"Kinshasa"},{application:"REPORTING",srcUrl:"/assets/rapport.png",url:"./",province:"Kinshasa"},{application:"DGPEK",srcUrl:"/assets/logoDGPEK.jpeg",url:"./",province:"Ituri"},{application:"SNEL",srcUrl:"/assets/logoSNEL.png",url:"./",province:"Kinshasa"},{application:"DGRK",srcUrl:"/assets/drgklogo.jpg",url:"./",province:"Kinshasa"},{application:"REGIDESO",srcUrl:"/assets/regi.jpeg",url:"./",province:"Ituri"},{application:"TAXES",srcUrl:"/assets/logo.png",url:"./",province:"Kinshasa"},{application:"AUTOJUSTE",srcUrl:"/assets/logo.png",url:"./",province:"Kongo-Central"},{application:"ASSIM",srcUrl:"/assets/logo.png",url:"./",province:"Kwango"},{application:"MAXIMUMB",srcUrl:"/assets/logo.png",url:"./",province:"Kinshasa"},{application:"CFMAG",srcUrl:"/assets/logo.png",url:"./",province:"Kwango"},{application:"BLACK START ",srcUrl:"/assets/logo.png",url:"./",province:"Kinshasa"},{application:"AU ",srcUrl:"/assets/logo.png",url:"./",province:"Kinshasa"},{application:"AU ",srcUrl:"/assets/logo.png",url:"./",province:"Kongo-Central"},{application:"AU ",srcUrl:"/assets/logo.png",url:"./",province:"Kwilu"},{application:"AU ",srcUrl:"/assets/logo.png",url:"./",province:"Sankuru"},{application:"AU ",srcUrl:"/assets/logo.png",url:"./",province:"Kinshasa"},{application:"AU ",srcUrl:"/assets/logo.png",url:"./",province:"Haut-Lomami"},{application:"AU ",srcUrl:"/assets/logo.png",url:"./",province:"Kinshasa"},{application:"CONFIGURATION",srcUrl:"/assets/Configuration.png",url:"/app/settings-menu",province:"Kinshasa"}]}ngOnInit(){this.getApplicationList()}getApplicationList(){this.appConfig.onStartWaiting(),this.configService.find$("application/list").subscribe({next:n=>{this.appConfig.onStopWaiting(),this.applications=n,console.log("application ",n)},error:n=>{this.appConfig.onStopWaiting(),u.H.openInfoDialog(this.dialog,n)}})}}return r.\u0275fac=function(n){return new(n||r)(t.LFG(e._),t.LFG(s.K),t.LFG(c.uw),t.LFG(g.E))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var d=a(9368),C=a(3833),R=a(9444),E=a(2382),U=a(5066);function x(r,m){1&r&&(t.TgZ(0,"div",14),t._UZ(1,"button",15)(2,"button",16),t.qZA())}function A(r,m){1&r&&t._UZ(0,"app-societies",20),2&r&&t.Q6J("menu",m.$implicit)}function P(r,m){if(1&r&&(t.TgZ(0,"div")(1,"div",17)(2,"div",18),t.YNc(3,A,1,1,"app-societies",19),t.qZA()()()),2&r){const n=m.$implicit;t.Tol(n[0]?"carousel-item active":"carousel-item "),t.xp6(3),t.Q6J("ngForOf",n)}}function T(r,m){1&r&&(t.TgZ(0,"button",21),t._UZ(1,"span",22),t.TgZ(2,"span",23),t._uU(3,"Previous"),t.qZA()())}function y(r,m){1&r&&(t.TgZ(0,"button",24),t._UZ(1,"span",25),t.TgZ(2,"span",23),t._uU(3,"Next"),t.qZA()())}function N(r,m){if(1&r){const n=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"i",5),t._UZ(5,"fa-icon",6),t.qZA(),t.TgZ(6,"input",7),t.NdJ("ngModelChange",function(f){return t.CHM(n),t.oxw().motif=f})("ngModelChange",function(){return t.CHM(n),t.oxw().searchApplication()}),t.qZA()()()(),t.TgZ(7,"div",8),t.YNc(8,x,3,0,"div",9),t.TgZ(9,"div",10),t.YNc(10,P,4,3,"div",11),t.qZA(),t.YNc(11,T,4,0,"button",12),t.YNc(12,y,4,0,"button",13),t.qZA()()}if(2&r){const n=t.oxw();t.xp6(5),t.Q6J("icon",n.faSearch),t.xp6(1),t.Q6J("ngModel",n.motif),t.xp6(2),t.Q6J("ngIf",n.applicationsChunks.length>1),t.xp6(2),t.Q6J("ngForOf",n.applicationsChunks),t.xp6(1),t.Q6J("ngIf",n.applicationsChunks.length>1),t.xp6(1),t.Q6J("ngIf",n.applicationsChunks.length>1)}}const K=[{path:"",component:(()=>{class r{constructor(n,p,f,S,I,w){this.applicationService=n,this.route=p,this.appConfig=f,this.router=S,this.inAppGuide=I,this.shepherdService=w,this.faUser=i.ILF,this.faSearch=i.wn1,this.faCog=i.b7W,this.faBell=i.qmU,this.faHelp=i.Fuz,this.faUsers=i.FVb,this.faBars=i.xiG,this.applicationsChunks=[],this.applicationsChunksCopy=[],this.menus=[],this.isFirstTimeUser=!0,this.showHome=!1,this.param=this.route.snapshot.queryParams.province,this.appConfig.controlAccessApplication(),this.applications=this.appConfig.getItemFromSessionStorage("appModuleRoleResponses"),this.modules=this.appConfig.getItemFromSessionStorage("modules"),this.token=this.appConfig.getItemFromSessionStorage("token")}ngOnInit(){v.init(),this.modules=JSON.parse(this.modules),this.applications=JSON.parse(this.applications),this.getApplicationList()}getUserName(){const n=sessionStorage.getItem("user");if(!n)return null;try{return JSON.parse(n).username}catch(p){return console.error("Error parsing user data from session storage:",p),null}}shouldShowGuide(){return!localStorage.getItem("GuideSeen")}headerGuideTour(){const n=this.getPrivilegesFromApplications(),p=this.inAppGuide.getTourGuideSteps("HomeComponent",n);if(p.length>0){const f=this.getUserName();f&&localStorage.setItem("GuideSeen",f),this.inAppGuide.startGuide(p),this.inAppGuide.markGuideAsShown()}}getUserPrivileges(){return[...this.applications]}getPrivilegesFromApplications(){return this.applications.map(n=>n.name)}redirect(){const n=`${this.applications[0].url}?url=${this.getApplicationUrl()}&tkn=${this.token}`;window.location.href=n}getApplicationUrl(){return window.location.origin}substrHost(){this.applications=this.applications.map(n=>n.application).filter(n=>"host"!==n.url)}showApplication(){var n;this.showHome=!0,this.menus=this.applications,console.log("menu",this.menus),null===(n=this.modules)||void 0===n||n.filter(p=>"USER ACCESS MANAGEMENT"!==p.moduleName).forEach(p=>{const f={name:p.moduleName,url:p.moduleName.toLowerCase().includes("user access management")?"/app/settings/users/list-users":`/app/${p.moduleName.toLowerCase()}`,logo:p.moduleName.toLowerCase().includes("user access management")?"/assets/usersLogo.png":`/assets/${p.moduleName.toLowerCase()}.png`};this.menus.unshift(f)}),this.modules&&this.menus.push({name:"CONFIGURATION",url:"/app/settings-menu",logo:"/assets/Configuration.png"}),this.filter()}redirect0rShowApplication(){1===this.applications.length?(this.showHome=!1,this.redirect()):this.showApplication()}getApplicationList(){this.applications.length>1?(this.substrHost(),this.showApplication()):1===this.applications.length?(this.substrHost(),this.redirect0rShowApplication()):(this.router.navigate(["/login"],{replaceUrl:!0}),this.appConfig.onDisconnect())}filter(){const n=Math.ceil(this.menus.length/22);if(n>1)for(let p=0;p<n;p++){const f=0===p?p:p+21,S=f+21,I=this.menus.filter((w,M)=>M>=f&&M<=S);this.applicationsChunks.push(I),this.applicationsChunksCopy.push(I)}else this.applicationsChunks.push(this.menus),this.applicationsChunksCopy.push(this.menus)}searchApplication(){this.motif||(this.applicationsChunks=this.applicationsChunksCopy);const n=this.applicationsChunksCopy.map(p=>p.filter(f=>f.name.toUpperCase().includes(this.motif.toUpperCase())));this.applicationsChunks=n}}return r.\u0275fac=function(n){return new(n||r)(t.Y36(l),t.Y36(h.gz),t.Y36(e._),t.Y36(h.F0),t.Y36(d.g),t.Y36(C.a))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-home"]],decls:1,vars:1,consts:[["class","container-fluid mt-3",4,"ngIf"],[1,"container-fluid","mt-3"],[1,"ms-5","d-flex","justify-content-center"],[1,"col-3"],[1,"d-flex","col-12","position-relative"],["id","#taxation",1,"mt-3"],[1,"text-muted",2,"font-size","15px","position","absolute","right","1rem",3,"icon"],["type","text","autocomplete","off","name","application","maxlength","35","id","rechercheCore","placeholder","Rechercher",1,"form-control","pe-4","py-3",3,"ngModel","ngModelChange"],["id","carouselExampleIndicators","data-bs-wrap","false","data-bs-ride","carousel","data-bs-interval","false","data-bs-pause","hover",1,"carousel","carousel-dark","slide","pb-5"],["class","carousel-indicators",4,"ngIf"],[1,"carousel-inner","px-4","pb-5"],[3,"class",4,"ngFor","ngForOf"],["class","carousel-control-prev ","type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","prev",4,"ngIf"],["class","carousel-control-next ","type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","next",4,"ngIf"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","1","aria-label","Slide 2"],[1,"mt-3","px-5"],[1,"d-flex","justify-content-center","flex-wrap","col-sm-12","position-relative","px-5"],["style","width: 12%;","class","me-3 my-2",3,"menu",4,"ngFor","ngForOf"],[1,"me-3","my-2",2,"width","12%",3,"menu"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(n,p){1&n&&t.YNc(0,N,13,6,"div",0),2&n&&t.Q6J("ngIf",p.showHome)},directives:[o.O5,R.BN,E.Fj,E.nD,E.JJ,E.On,o.sg,U.L],styles:[".card-exploration[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;border-radius:10px;box-shadow:0 0 4px #0005;background-color:#fff;transition-duration:.7s}.card-exploration[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 10px 20px #0090e440}.card-exploration[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:12px;font-weight:400}.faIcon[_ngcontent-%COMP%]{font-size:25px}.user-param[_ngcontent-%COMP%]{border:3px solid #348632;background-color:#fff;width:40px;height:40px;border-radius:20px;text-align:center}.shepherd-welcome[_ngcontent-%COMP%]{max-width:600px}.shepherd-title[_ngcontent-%COMP%]{font-size:1.5em;margin-bottom:10px}.shepherd-text[_ngcontent-%COMP%]{font-size:1em;line-height:1.5}.shepherd-text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}.shepherd-text[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}"]}),r})()}];let D=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[h.Bz.forChild(K)],h.Bz]}),r})();var G=a(4793);let L=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[o.ez,D,R.uH,G.N,E.u5]]}),r})()},7957:(O,_,a)=>{a.d(_,{_:()=>v});var o=a(262),h=a(4004),i=a(7111);class v{constructor(u,e,s,c){this._http=u,this._base=e,this._router=s,this._dialog=c}intercept(u,e){const s=localStorage.getItem("browser"),c=localStorage.getItem("os"),g=localStorage.getItem("ipAddress"),l=localStorage.getItem("longitude"),d=localStorage.getItem("latitude"),C=localStorage.getItem("Isp"),R=localStorage.getItem("City"),E=localStorage.getItem("Country"),U=u.clone({setHeaders:{Browser:s||"",OS:c||"","IP-Address":g||"",Longitude:l||"",Latitude:d||"",Isp:C||"",City:R||"",Country:E||""}});return console.log("ddd :",c),e.handle(U).pipe((0,o.K)(x=>{throw 0!==x.status||401!==x.status?(this._router.navigate(["/login"],{replaceUrl:!0}),this._dialog.closeAll(),i.G.SESSION_EXPIRED):i.G.NETWORK_ERROR}))}putFind$(u){return this._http.put(this._base+`/${u}`,"").pipe((0,h.U)(e=>{if("400"==e.status.code)throw e.status.message;if("500"==e.status.code)throw i.G.NETWORK_ERROR;if("401"==e.status.code)throw i.G.SESSION_EXPIRED;return e.response}),(0,o.K)(e=>{throw"string"!=typeof e?0==e.status||200==e.status||401==e.status?(this._router.navigate(["/login"],{replaceUrl:!0}),this._dialog.closeAll(),i.G.SESSION_EXPIRED):i.G.NETWORK_ERROR:e}))}postFind$(u){return this._http.post(this._base+`/${u}`,"").pipe((0,h.U)(e=>{if("400"==e.status.code)throw e.status.message;if("500"==e.status.code)throw i.G.NETWORK_ERROR;if("401"==e.status.code)throw i.G.SESSION_EXPIRED;return e.response}),(0,o.K)(e=>{throw"string"!=typeof e?0==e.status||200==e.status||401==e.status?(this._router.navigate(["/login"],{replaceUrl:!0}),this._dialog.closeAll(),i.G.SESSION_EXPIRED):i.G.NETWORK_ERROR:e}))}find$(u){return this._http.get(this._base+`/${u}`).pipe((0,h.U)(e=>{switch(e.status.code){case"400":case"":default:throw e.status.message;case"500":throw i.G.NETWORK_ERROR;case"401":throw i.G.SESSION_EXPIRED;case"200":return e.response}}),(0,o.K)(e=>{throw"string"!=typeof e?0==e.status||200==e.status||401==e.status?(this._router.navigate(["/login"],{replaceUrl:!0}),this._dialog.closeAll(),i.G.SESSION_EXPIRED):i.G.NETWORK_ERROR:e}))}save$(u,e){return this._http.post(this._base+`/${e}`,u).pipe((0,h.U)(s=>{switch(s.status.code){case"400":case"":case"418":default:throw s.status.message;case"500":throw i.G.NETWORK_ERROR;case"401":throw i.G.SESSION_EXPIRED;case"200":return s.response}}),(0,o.K)(s=>{throw"string"!=typeof s?0==s.status||200==s.status||401==s.status?(this._router.navigate(["/login"],{replaceUrl:!0}),this._dialog.closeAll(),i.G.SESSION_EXPIRED):i.G.NETWORK_ERROR:s}))}update$(u,e){return this._http.put(this._base+`/${e}`,u).pipe((0,h.U)(s=>{switch(s.status.code){case"400":case"":default:throw s.status.message;case"500":throw i.G.NETWORK_ERROR;case"401":throw i.G.SESSION_EXPIRED;case"200":return s.response}}),(0,o.K)(s=>{throw"string"!=typeof s?0==s.status||200==s.status||401==s.status?(this._router.navigate(["/login"],{replaceUrl:!0}),this._dialog.closeAll(),i.G.SESSION_EXPIRED):i.G.NETWORK_ERROR:s}))}delete$(u){return this._http.delete(this._base+`/${u}`).pipe((0,h.U)(e=>{switch(e.status.code){case"400":case"":default:throw e.status.message;case"500":throw i.G.NETWORK_ERROR;case"401":throw i.G.SESSION_EXPIRED;case"200":return e.response}}),(0,o.K)(e=>{throw"string"!=typeof e?0==e.status||200==e.status||401==e.status?(this._router.navigate(["/login"],{replaceUrl:!0}),this._dialog.closeAll(),i.G.SESSION_EXPIRED):i.G.NETWORK_ERROR:e}))}patch$(u,e){return this._http.patch(this._base+`/${e}`,u).pipe((0,h.U)(s=>{switch(s.status.code){case"400":case"":default:throw s.status.message;case"500":throw i.G.NETWORK_ERROR;case"401":throw i.G.SESSION_EXPIRED;case"200":return s.response}}),(0,o.K)(s=>{throw"string"!=typeof s?0==s.status?(this._router.navigate(["/login"],{replaceUrl:!0}),this._dialog.closeAll(),i.G.SESSION_EXPIRED):i.G.NETWORK_ERROR:s}))}}},946:(O,_,a)=>{a.d(_,{E:()=>e});var o=a(2340),h=a(7957),i=a(4893),v=a(520),t=a(1598),u=a(2308);let e=(()=>{class s extends h._{constructor(g,l,d){super(g,`${o.N.baseUrl}/config`,l,d),this._http=g,this._router=l,this._dialog=d}}return s.\u0275fac=function(g){return new(g||s)(i.LFG(v.eN),i.LFG(t.F0),i.LFG(u.uw))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},4961:(O,_,a)=>{a.d(_,{K:()=>e});var o=a(2340),h=a(7957),i=a(4893),v=a(520),t=a(1598),u=a(2308);let e=(()=>{class s extends h._{constructor(g,l,d){super(g,`${o.N.baseUrl}/user`,l,d),this._http=g,this._router=l,this._dialog=d}}return s.\u0275fac=function(g){return new(g||s)(i.LFG(v.eN),i.LFG(t.F0),i.LFG(u.uw))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()}}]);